<?php $child = $this->getMenu(); ?>
<li <?php echo $this->_getRenderedMenuItemAttributes($child); ?>>
    <?php if ($child->hasChildren()): ?>
        <input type="radio" name="<?php echo $child->getId(); ?>" id="<?php echo $child->getPositionClass(); ?>" class="input--toggle"<?php if ($child->getIsActive()): ?> checked<?php endif; ?>>
        <label for="<?php echo $child->getPositionClass(); ?>" class="only-small">
            <?php echo $this->escapeHtml($child->getName()); ?>
        </label>
    <?php endif; ?>

    <a href="<?php echo $child->getUrl(); ?>" <?php echo $this->getOutermostClassCode(); ?>>
        <?php echo $this->escapeHtml($child->getName()); ?>
    </a>

    <?php if ($child->hasChildren()): ?>
        <?php $childrenWrapClass = $this->getChildrenWrapClass(); ?>
        <ul class="level<?php echo $this->getChildLevel(); ?> <?php if (!empty($childrenWrapClass)) echo $childrenWrapClass; ?>">
            <li class="view-all level<?php echo ($this->getChildLevel() + 1); ?>">
                <a href="<?php echo $child->getUrl(); ?>">
                    <?php echo $this->__('View All'); ?>
                </a>
            </li>
            <?php echo $this->_getHtml($child, $childrenWrapClass); ?>
        </ul>
    <?php endif; ?>

</li>